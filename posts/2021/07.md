---
title: Cybozu Frontend Monthly
date: "2021-07-27T17:00:00+09:00"
slug: "2021-07"
connpass: "https://cybozu.connpass.com/event/218880/"
streamUrl: "https://www.youtube.com/watch?v=SAEzDJE2Uqw"
no: 13
members:
  - name: "@koba04"
    link: https://twitter.com/koba04
  - name: "@pirosikick"
    link: https://twitter.com/pirosikick
  - name: "@__sakito__"
    link: https://twitter.com/__sakito__
  - name: "@shisama_"
    link: https://twitter.com/shisama_
  - name: "@nakajmg"
    link: https://twitter.com/nakajmg
  - name: "@b4h0_c4t"
    link: https://twitter.com/b4h0_c4t
  - name: "@mugi_uno"
    link: https://twitter.com/mugi_uno
guest:
  - name: "@jmblog"
    link: https://twitter.com/jmblog
  - name: "@yuku"
    link: https://twitter.com/MonchiFC
---

### [Just-in-Time Mode - Tailwind CSS](https://tailwindcss.com/docs/just-in-time-mode)

- 共有者: jmblog

業務で Next.js + Tailwind CSS を使っているのですが、Just-in-Time（JIT）モードが便利だったので共有します。

- Tailwind CSS は 本番ビルド時に PurgeCSS を利用して未使用のスタイルをすべて削除するため、生成されるCSSファイルは最小限になります。
- ただし、PurgeCSS は毎回動かすとビルドに時間がかかりすぎるため、開発時には実行されません。
- その結果、開発時に生成されるCSSファイルのサイズは非常に大きくなります。場合によっては、Chrome DevTools の動きが遅くなるほど巨大になることもあります。
- また、開発と本番で異なるCSSが使われることになるので、PurgeCSS によって意図しないスタイルの削除が行われたとしても、本番でしか気づくことができませんでした。
- Just-in-Timeモードを使うとこれらを解決することができます。
- また、それ以外にも以下のような利点があります
  - `active` や `disabled` などの Variants を設定ファイルで有効にしなくても使えるようになる
  - `top-[-113px]`, `border-[#c1c1c1]` みたいなクラスを書くことができるようになる
- JITモードは、実験的な機能として `@tailwindcss/jit` というライブラリとして提供されていましたが、2021/4 にリリースされた Tailwind CSS v2.1 から Tailwind CSS のコア機能として取り込まれています。

なお、Next.js v10.2.0 で JIT モードを試したところ、うまく動きませんでした。v10.2.2 以上、v11 であれば問題ないようです。

[Next.js v10でTailwind CSSのJust-in-Timeモードがうまく動かない](https://zenn.dev/jimbo/scraps/693d65554843f3)

---

### [告知：Ubie Tech Talk #5](https://ubietechtalk.connpass.com/event/219222/)

- 共有者: jmblog

明日 7/28 18:00-19:00 に Ubie Tech Talk #5 を開催します

- 今回は、デザイナー×エンジニアの雑談会のような感じでワイワイ話します。
- YouTube Live で配信予定（音声のみ）です。夕方の時間なので、作業しながらのBGMにもどうぞ！


### [150万MAUのNuxt.js製サービスを機能開発を止めずに1ヶ月&1人でNext.jsに置き換えた話](https://zenn.dev/yuku/articles/a9edd53e13bb26)

- 共有者: [yuku](https://github.com/MonchiFC)

Ubie の[AI受診相談ユビー]を Nuxt.js から Next.js に置き換えた話。機能開発を止めないリプレイス事例として参考になると嬉しい。

- Nuxt.js と Next.js を共存させて1ヶ月で完全移行
- インフラ層で path を見て Nuxt と Next にルーティング
- Local Storage を通したステートのマイグレーション
- 0→1の立ち上げにおいてはコミュニケーションコストが課題になる
  - コミュニケーションコストのかからない壁打ち相手がいるととってもハッピー

---

### [Astro](https://astro.build/)

- 共有者: [yuku](https://github.com/MonchiFC)

Snowpack チームが作った静的サイトジェネレータ。

- フレームワーク非依存で、React でも Vue でも Svelte でも書ける
  - [Renderer](https://docs.astro.build/reference/renderer-reference) を実装するとなんでも対応できる
- [独自のコンポーネント記法](https://docs.astro.build/core-concepts/astro-components)も持っている
- TypeScript や Markdown など色々とデフォルト対応
- デフォルトではランタイム JS なしの静的 HTML を出力
- JSが必要なコンポーネントは明示することで[部分的にハイドレーション](https://docs.astro.build/core-concepts/component-hydration)できる
  - ロード時にハイドレーションしたり `<MyComponent client:load />`
  - IntersectionObserver に引っかかったときにしたり `<MyComponent client:visible />`
  